(()=>{"use strict";const e=document.querySelector(".search"),t=document.querySelector(".content"),n=document.querySelector(".search__close-icon"),s=document.querySelector(".search__icon");let o="https://api.unsplash.com/photos?page=2&per_page=21&client_id=wdMiGp849PdPDqo6Dbf8rws33Fwjfjz8qjknrDVbs_U";const c=(e,t,n)=>{let s=document.createElement("div");s.classList.add(t),s.title=e.description,s.style.backgroundImage=`url(${e})`,n.append(s),s.addEventListener("click",(()=>window.open(e,"_blank")))},r=async e=>{try{const n=await fetch(e);if(n.ok){let e=await n.json();if(e.results)for(let n of e.results)c(`${n.urls.raw}&w=1366&h=768`,"content__img",t);else for(let n in e)c(`${e[n].urls.raw}&w=1366&h=768`,"content__img",t)}}catch(e){console.log(e),r("https://api.unsplash.com/photos?page=2&per_page=21&client_id=wdMiGp849PdPDqo6Dbf8rws33Fwjfjz8qjknrDVbs_U")}},a=()=>{t.innerHTML="",r(o)},i=(e,t,n)=>{t.style.opacity="1",""===n.value&&(t.style.opacity=0),e&&(n.value="",t.style.opacity=0)};window.addEventListener("load",(()=>r(o))),e.addEventListener("keydown",(e=>{"Enter"===e.key&&a()})),e.addEventListener("input",(()=>{i(null,n,e),o=`https://api.unsplash.com/search/photos?query=${e.value}&per_page=21&client_id=wdMiGp849PdPDqo6Dbf8rws33Fwjfjz8qjknrDVbs_U`})),n.addEventListener("click",(()=>i(!0,n,e))),s.addEventListener("click",(()=>a()))})();