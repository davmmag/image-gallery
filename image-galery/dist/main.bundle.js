(()=>{"use strict";const e=document.querySelector(".search"),t=document.querySelector(".content"),n=document.querySelector(".search__close-icon"),c=document.querySelector(".search__icon");let s="https://api.unsplash.com/photos?page=2&per_page=21&client_id=wdMiGp849PdPDqo6Dbf8rws33Fwjfjz8qjknrDVbs_U";const o=async e=>{try{const t=await fetch(e);if(t.ok)return await t.json()}catch(e){console.log(e),o(s)}},a=(e,t,n,c)=>{const s=document.createElement("div");s.classList.add(t),s.title=c,s.style.backgroundImage=`url(${e})`,n.append(s),s.addEventListener("click",(()=>window.open(e,"_blank")))},i=async(e,t,n)=>{const c=await o(n);if(e.innerHTML="",c.results)for(let n of c.results)a(`${n.urls.raw}&w=1366&h=768`,t,e,n.alt_description);else for(let n in c)a(`${c[n].urls.raw}&w=1366&h=768`,t,e,c[n].alt_description)},r=e=>`https://api.unsplash.com/search/photos?query=${e}&per_page=21&client_id=wdMiGp849PdPDqo6Dbf8rws33Fwjfjz8qjknrDVbs_U`,l=(e,t)=>{t.value.length&&(t.value="",e.style.opacity=0)};window.addEventListener("load",(()=>{l(n,e),i(t,"content__img",s)})),e.addEventListener("keydown",(n=>{if("Enter"===n.key&&e.value.length){const n=r(e.value);i(t,"content__img",n)}})),e.addEventListener("input",(()=>{var t,c;c=e,(t=n).style.opacity="1",""===c.value&&(t.style.opacity=0)})),n.addEventListener("click",(()=>l(n,e))),c.addEventListener("click",(()=>{if(e.value.length){const n=r(e.value);i(t,"content__img",n)}}))})();